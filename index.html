<!doctype html>
<html lang="en" class="bg-black text-white">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; media-src 'self'; font-src 'self'; connect-src 'none'; object-src 'none'; base-uri 'self'; form-action 'none'; frame-ancestors 'none';"
    />
    <title>Spaceship Dodge</title>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
    <link rel="stylesheet" href="styles/main-tailwind.css" />
    <link rel="stylesheet" href="styles/inline.css" />
  </head>
  <body>
    <canvas id="starfieldCanvas"></canvas>
    <canvas id="gameCanvas" tabindex="0"></canvas>

    <div
      id="liveRegionStatus"
      class="sr-only"
      role="status"
      aria-live="polite"
      aria-atomic="true"
    ></div>
    <div
      id="liveRegionScore"
      class="sr-only"
      role="status"
      aria-live="polite"
      aria-atomic="true"
    ></div>

    <div
      id="startOverlay"
      class="game-overlay visible"
      role="dialog"
      aria-modal="true"
      aria-labelledby="startOverlayTitle"
      aria-describedby="startHint"
      tabindex="-1"
    >
      <h1 id="startOverlayTitle" class="text-4xl font-bold mb-4">Spaceship Dodge</h1>
      <p class="mb-2">Dodge and Shoot the incoming asteroids</p>
      <p id="desktopControlHint" class="mb-2">Use mouse to move</p>
      <p id="mobileControlHint" class="mb-2 hidden">Use touch to move your spaceship</p>
      <p id="startHint" class="mb-4 text-lg">Tap Screen to Begin</p>
      <p id="livesInfoStart" class="mb-4 text-lg">Lives: 3</p>
      <div class="flex gap-4">
        <button
          id="startButton"
          class="game-button"
        >
          Start Game
        </button>
        <button
          id="settingsButtonStart"
          class="game-button"
        >
          Settings
        </button>
      </div>
    </div>

    <div
      id="levelTransitionOverlay"
      class="game-overlay"
      role="dialog"
      aria-modal="true"
      aria-labelledby="levelOverlayTitle"
      aria-describedby="currentLevelInfo currentScoreInfo"
      tabindex="-1"
    >
      <h1 id="levelOverlayTitle" class="text-4xl font-bold mb-4">LEVEL UP!</h1>
      <p id="currentLevelInfo" class="mb-2">Level 1</p>
      <p id="currentScoreInfo" class="mb-4">Score: 0</p>
      <p id="livesInfoLevel" class="mb-4 text-lg"></p>
      <p id="tapToContinueMobile" class="text-lg mt-4 hidden">Tap Anywhere to Continue</p>
      <div class="flex gap-4">
        <button
          id="continueButton"
          class="game-button"
        >
          Continue
        </button>
        <button
          id="settingsButtonLevel"
          class="game-button"
        >
          Settings
        </button>
      </div>
    </div>

    <div
      id="pauseOverlay"
      class="game-overlay"
      role="dialog"
      aria-modal="true"
      aria-labelledby="pauseOverlayTitle"
      tabindex="-1"
    >
      <h1 id="pauseOverlayTitle" class="text-4xl font-bold mb-4">PAUSED</h1>
      <p id="livesInfoPause" class="mb-4 text-lg"></p>
      <div class="flex gap-4">
        <button
          id="quitButton"
          class="game-button hidden"
          aria-label="Quit current game and return to main menu"
          title="Quit Game"
        >
          Quit Game
        </button>
        <button
          id="settingsButtonPause"
          class="game-button"
        >
          Settings
        </button>
      </div>
      <p id="pauseResumeMessage">Tap to Resume</p>
    </div>

    <div
      id="gameOverOverlay"
      class="game-overlay"
      role="dialog"
      aria-modal="true"
      aria-labelledby="gameOverOverlayTitle"
      aria-describedby="finalScore"
      tabindex="-1"
    >
      <h1 id="gameOverOverlayTitle" class="text-4xl font-bold mb-4">GAME OVER</h1>
      <p id="finalScore" class="mb-4">Final Score: 0</p>
      <div class="flex gap-4">
        <button
          id="restartButton"
          class="game-button"
        >
          Play Again
        </button>
        <button
          id="settingsButtonGameOver"
          class="game-button"
        >
          Settings
        </button>
      </div>
    </div>

    <div
      id="fatalErrorOverlay"
      class="game-overlay"
      role="alertdialog"
      aria-modal="true"
      aria-labelledby="fatalErrorTitle"
      aria-describedby="fatalErrorMessage fatalErrorCode"
      tabindex="-1"
    >
      <h1 id="fatalErrorTitle" class="text-4xl font-bold mb-4 text-red-500">Fatal Error</h1>
      <p id="fatalErrorMessage" class="mb-4 text-center max-w-md">An unexpected error occurred</p>
      <p id="fatalErrorCode" class="mb-4 text-sm text-gray-400">Error Code: UNKNOWN</p>
      <button
        id="reloadButton"
        class="game-button"
      >
        Reload Game
      </button>
    </div>

    <script type="module" src="/src/core/main.ts"></script>
  </body>
</html>
